# 簡易CMS - テンプレートベースのWebサイト編集システム


## 概要
このプロジェクトは、ユーザーが直感的なインターフェースを通じてWebサイトのコンテンツを簡単に編集できる簡易CMSです。テンプレートベースのアプローチを採用しており、迅速なWebサイト構築と更新を可能にします。Next.js 15の最新機能を活用し、パフォーマンスと開発効率を両立させています。

[**Live Demo (https://cms0505.vercel.app/)**](https://cms0505.vercel.app/)


※本プロジェクトは個人開発であり、開発効率を優先するためプルリクエストを経由せず、メインブランチへの直接コミットを中心に構築しています。

## 主な特徴

### 🎨 **直感的なエディタ体験**
- **スプリットスクリーンエディタ**: リアルタイムプレビューと編集画面の分割表示
- **ドラッグ&ドロップ**: セクションの追加、並べ替え、削除が直感的に操作可能
- **グループ機能**: セクションをグループ化して一括管理、視覚的な色分けで識別

### ⚡ **パフォーマンス最適化**
- **自動画像最適化**: アスペクト比自動検出とCLS防止
- **並列データベース処理**: 保存操作の大幅な高速化（60-70%改善）
- **コンテナクエリ対応**: 分割表示で同じクエリを使用、html,cssの更新が極小

### 🛠️ **モダンな技術スタック**
- **Next.js 15 (App Router)**: 最新のReact Server Componentsを活用
- **TypeScript**: 厳格な型安全性でバグを未然に防止
- **CSS Variables**: 動的スタイリングとテーマ対応
- **dnd-kit**: アクセシブルなドラッグ&ドロップ実装

### 🔧 **開発者体験**
- **型安全なAPI**: 全てのデータフローでTypeScript型定義
- **コンポーネント設計**: 再利用可能で保守性の高い設計
- **エラーハンドリング**: 包括的なエラー処理とユーザーフィードバック

## 使用技術

- **フレームワーク**: Next.js 15 (App Router)
- **言語**: TypeScript
- **スタイリング**: Tailwind CSS + CSS Variables
- **状態管理**: React Hooks + Zustand
- **ドラッグ&ドロップ**: dnd-kit
- **UI**: shadcn/ui + Sonner (トースト通知)
- **バックエンド**: Supabase (PostgreSQL)
- **AI**: OpenAI API

## プロジェクトの実行

```bash
# リポジトリをクローン
git clone [リポジトリURL]
cd [ディレクトリ名]

# 依存パッケージのインストール
npm install

# 開発サーバーの起動
npm run dev
```

ブラウザで `http://localhost:3000` にアクセスしてください。

## 主要コマンド

| コマンド | 説明 |
| :--- | :--- |
| `npm run dev` | 開発サーバーの起動 |
| `npm run build` | 本番用のビルド |
| `npm run sync` | GitHubに現在の変更をプッシュ（自動コミット付き） |
| `npm run deploy` | GitHubにプッシュしてデプロイを実行 |
| `npm run lint` | コードの静的解析（Linter） |

**注意**: 一部の機能（AI生成、画像アップロード）はSupabaseとOpenAI APIの設定が必要です。

## Tailwind CSSの動的クラスについて

CMSのエディタで入力したHTMLクラス（例: `text-right`）が反映されない場合は、`lib/tailwind-trigger.tsx` にそのクラスを追記してください。Tailwind CSSのビルドプロセスがこのファイルをスキャンし、本番環境のCSSに必要なスタイルを含めます。

## アーキテクチャ

```
app/
├── editor/          # エディタ画面
├── api/             # APIルート
└── globals.css      # CSS Variables定義

components/
├── ui/              # 汎用UIコンポーネント
├── sections/        # ページセクション
└── editor/          # エディタ専用コンポーネント

lib/
├── database.ts      # データベース操作
├── image-utils.ts   # 画像処理ユーティリティ
└── auth.ts          # 認証処理

types/
└── index.ts         # 型定義集約
```

## 今後の展望

- ユーザー認証機能の強化
- 複数ページ管理機能
- セクションテンプレートの拡充
- パフォーマンス監視とさらなる最適化
